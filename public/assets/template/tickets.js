/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 346);
/******/ })
/************************************************************************/
/******/ ({

/***/ 346:
/*!***************************!*\
  !*** ./src/js/tickets.js ***!
  \***************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("var Tickets = {\n    initialize: function () {\n        if (typeof window['prettyPrint'] != 'function') {\n            $.getScript(TicketsConfig.jsUrl + 'lib/prettify/prettify.js', function () {\n                prettyPrint();\n            });\n            $('<link/>', {\n                rel: 'stylesheet',\n                type: 'text/css',\n                href: TicketsConfig.jsUrl + 'lib/prettify/prettify.css'\n            }).appendTo('head');\n        }\n        if (!jQuery().ajaxForm) {\n            document.write('<script src=\"' + TicketsConfig.jsUrl + 'lib/jquery.form.min.js\"><\\/script>');\n        }\n        if (!jQuery().jGrowl) {\n            document.write('<script src=\"' + TicketsConfig.jsUrl + 'lib/jquery.jgrowl.min.js\"><\\/script>');\n        }\n        if (!jQuery().sisyphus) {\n            document.write('<script src=\"' + TicketsConfig.jsUrl + 'lib/jquery.sisyphus.min.js\"><\\/script>');\n        }\n\n        // Forms listeners\n        $(document).on('click', '#comment-preview-placeholder a', function () {\n            return false;\n        });\n        $(document).on('change', '#comments-subscribe', function () {\n            Tickets.comment.subscribe($('[name=\"thread\"]', $('#comment-form')));\n        });\n        $(document).on('change', '#tickets-subscribe', function () {\n            Tickets.ticket.subscribe($(this).data('id'));\n        });\n        $(document).on('submit', '#ticketForm', function (e) {\n            Tickets.ticket.save(this, $(this).find('[type=\"submit\"]')[0]);\n            e.preventDefault();\n            return false;\n        });\n        $(document).on('submit', '#comment-form', function (e) {\n            Tickets.comment.save(this, $(this).find('[type=\"submit\"]')[0]);\n            e.preventDefault();\n            return false;\n        });\n        // Preview and submit\n        $(document).on('click touchend', '#ticketForm .preview, #ticketForm .save, #ticketForm .draft, #ticketForm .publish', function (e) {\n            if ($(this).hasClass('preview')) {\n                Tickets.ticket.preview(this.form, this);\n            } else {\n                Tickets.ticket.save(this.form, this);\n            }\n            e.preventDefault();\n            return false;\n        });\n        $(document).on('click touchend', '#comment-form .preview, #comment-form .submit', function (e) {\n            if ($(this).hasClass('preview')) {\n                Tickets.comment.preview(this.form, this);\n            } else {\n                Tickets.comment.save(this.form, this);\n            }\n            e.preventDefault();\n            return false;\n        });\n        // Hotkeys\n        $(document).on('keydown', '#ticketForm, #comment-form', function (e) {\n            if (e.keyCode == 13) {\n                if (e.shiftKey && (e.ctrlKey || e.metaKey)) {\n                    $(this).submit();\n                } else if (e.ctrlKey || e.metaKey) {\n                    $(this).find('input[type=\"button\"].preview').click();\n                }\n            }\n        });\n        // Show and hide forms\n        $(document).on('click touchend', '#comment-new-link a', function (e) {\n            Tickets.forms.comment();\n            e.preventDefault();\n            return false;\n        });\n        $(document).on('click touchend', '.comment-reply a', function (e) {\n            var id = $(this).parents('.ticket-comment').data('id');\n            if ($(this).hasClass('reply')) {\n                Tickets.forms.reply(id);\n            } else if ($(this).hasClass('edit')) {\n                Tickets.forms.edit(id);\n            }\n            e.preventDefault();\n            return false;\n        });\n        // Votes and rating\n        $(document).on('click touchend', '.ticket-comment-rating.active > .vote', function (e) {\n            var id = $(this).parents('.ticket-comment').data('id');\n            if ($(this).hasClass('plus')) {\n                Tickets.Vote.comment.vote(this, id, 1);\n            } else if ($(this).hasClass('minus')) {\n                Tickets.Vote.comment.vote(this, id, -1);\n            }\n            e.preventDefault();\n            return false;\n        });\n        $(document).on('click touchend', '.ticket-rating.active > .vote', function (e) {\n            var id = $(this).parents('.ticket-meta').data('id');\n            if ($(this).hasClass('plus')) {\n                Tickets.Vote.ticket.vote(this, id, 1);\n            } else if ($(this).hasClass('minus')) {\n                Tickets.Vote.ticket.vote(this, id, -1);\n            } else {\n                Tickets.Vote.ticket.vote(this, id, 0);\n            }\n            e.preventDefault();\n            return false;\n        });\n        // --\n        // Stars\n        $(document).on('click touchend', '.ticket-comment-star.active > .star', function (e) {\n            var id = $(this).parents('.ticket-comment').data('id');\n            Tickets.Star.comment.star(this, id, 0);\n            e.preventDefault();\n            return false;\n        });\n        $(document).on('click touchend', '.ticket-star.active > .star', function (e) {\n            var id = $(this).parents('.ticket-meta').data('id');\n            Tickets.Star.ticket.star(this, id, 0);\n            e.preventDefault();\n            return false;\n        });\n\n        $(document).ready(function () {\n            if (TicketsConfig.enable_editor == true) {\n                $('#ticket-editor').markItUp(TicketsConfig.editor.ticket);\n            }\n            if (TicketsConfig.enable_editor == true) {\n                $('#comment-editor').markItUp(TicketsConfig.editor.comment);\n            }\n\n            $.jGrowl.defaults.closerTemplate = '<div>[ ' + TicketsConfig.close_all_message + ' ]</div>';\n\n            var count = $('.ticket-comment').length;\n            $('#comment-total, .ticket-comments-count').text(count);\n\n            $(\"#ticketForm.create\").sisyphus({\n                excludeFields: $('#ticketForm .disable-sisyphus')\n            });\n\n            // Auto hide new comment button\n            if ($('#comment-form').is(':visible')) {\n                $('#comment-new-link').hide();\n            }\n        });\n\n        // Link to parent comment\n        $('#comments').on('click touchend', '.ticket-comment-up a', function () {\n            var id = $(this).data('id');\n            var parent = $(this).data('parent');\n            if (parent && id) {\n                Tickets.utils.goto('comment-' + parent);\n                $('#comment-' + parent + ' .ticket-comment-down:lt(1)').show().find('a').attr('data-child', id);\n            }\n            return false;\n        });\n\n        // Link to child comment\n        $('#comments').on('click touchend', '.ticket-comment-down a', function () {\n            var child = $(this).data('child');\n            if (child) {\n                Tickets.utils.goto('comment-' + child);\n            }\n            $(this).attr('data-child', '').parent().hide();\n            return false;\n        });\n    },\n\n    ticket: {\n        preview: function (form, button) {\n            $(form).ajaxSubmit({\n                data: { action: 'ticket/preview' },\n                url: TicketsConfig.actionUrl,\n                form: form,\n                button: button,\n                dataType: 'json',\n                beforeSubmit: function () {\n                    $(button).attr('disabled', 'disabled');\n                    return true;\n                },\n                success: function (response) {\n                    $(document).trigger('tickets_ticket_preview', response);\n                    var element = $('#ticket-preview-placeholder');\n                    if (response.success) {\n                        element.html(response.data.preview).show();\n                        prettyPrint();\n                    } else {\n                        element.html('').hide();\n                        Tickets.Message.error(response.message);\n                    }\n                    $(button).removeAttr('disabled');\n                }\n            });\n        },\n\n        save: function (form, button) {\n            var action = 'ticket/';\n            switch ($(button).prop('name')) {\n                case 'draft':\n                    action += 'draft';\n                    break;\n                case 'save':\n                    action += 'save';\n                    break;\n                default:\n                    action += 'publish';\n                    break;\n            }\n\n            $(form).ajaxSubmit({\n                data: { action: action },\n                url: TicketsConfig.actionUrl,\n                form: form,\n                button: button,\n                dataType: 'json',\n                beforeSubmit: function () {\n                    $(form).find('input[type=\"submit\"], input[type=\"button\"]').attr('disabled', 'disabled');\n                    $('.error', form).text('');\n                    return true;\n                },\n                success: function (response) {\n                    $(document).trigger('tickets_ticket_save', response);\n                    $('#ticketForm.create').sisyphus().manuallyReleaseData();\n\n                    if (response.success) {\n                        if (response.message) {\n                            Tickets.Message.success(response.message);\n                        }\n                        if (action == 'ticket/save') {\n                            $(form).find('input[type=\"submit\"], input[type=\"button\"]').removeAttr('disabled');\n                            if (response.data['content']) {\n                                $('#ticket-editor').val(response.data['content']);\n                            }\n                            $('#ticket-files-list').find('.deleted').each(function () {\n                                $(this).remove();\n                            });\n                        } else if (response.data.redirect) {\n                            document.location.href = response.data.redirect;\n                        }\n                    } else {\n                        $(form).find('input[type=\"submit\"], input[type=\"button\"]').removeAttr('disabled');\n                        Tickets.Message.error(response.message);\n                        if (response.data) {\n                            var i, field;\n                            for (i in response.data) {\n                                field = response.data[i];\n                                $(form).find('[name=\"' + field.field + '\"]').parent().find('.error').text(field.message);\n                                var elem = $(form).find('[name=\"' + field.field + '\"]').parent().find('.error');\n                                if (!elem.length) {\n                                    elem = $(form).find('#' + field.field + '-error');\n                                }\n                                if (elem.length) {\n                                    elem.text(field.message);\n                                }\n                            }\n                        }\n                    }\n                }\n            });\n        },\n\n        subscribe: function (section) {\n            if (section) {\n                $.post(TicketsConfig.actionUrl, { action: \"section/subscribe\", section: section }, function (response) {\n                    if (response.success) {\n                        Tickets.Message.success(response.message);\n                    } else {\n                        Tickets.Message.error(response.message);\n                    }\n                }, 'json');\n            }\n        }\n    },\n\n    comment: {\n        preview: function (form, button) {\n            $(form).ajaxSubmit({\n                data: { action: 'comment/preview' },\n                url: TicketsConfig.actionUrl,\n                form: form,\n                button: button,\n                dataType: 'json',\n                beforeSubmit: function () {\n                    $(button).attr('disabled', 'disabled');\n                    return true;\n                },\n                success: function (response) {\n                    $(document).trigger('tickets_comment_preview', response);\n                    $(button).removeAttr('disabled');\n                    if (response.success) {\n                        $('#comment-preview-placeholder').html(response.data.preview).show();\n                        prettyPrint();\n                    } else {\n                        Tickets.Message.error(response.message);\n                    }\n                }\n            });\n            return false;\n        },\n\n        save: function (form, button) {\n            $(form).ajaxSubmit({\n                data: { action: 'comment/save' },\n                url: TicketsConfig.actionUrl,\n                form: form,\n                button: button,\n                dataType: 'json',\n                beforeSubmit: function () {\n                    clearInterval(window.timer);\n                    $('.error', form).text('');\n                    $(button).attr('disabled', 'disabled');\n                    return true;\n                },\n                success: function (response) {\n                    $(button).removeAttr('disabled');\n                    $(document).trigger('tickets_comment_save', response);\n                    if (response.success) {\n                        Tickets.forms.comment(false);\n                        $('#comment-preview-placeholder').html('').hide();\n                        $('#comment-editor', form).val('');\n                        $('.ticket-comment .comment-reply a').show();\n\n                        // autoPublish = 0\n                        if (!response.data.length && response.message) {\n                            Tickets.Message.info(response.message);\n                        } else {\n                            Tickets.comment.insert(response.data.comment);\n                            Tickets.utils.goto($(response.data.comment).attr('id'));\n                        }\n\n                        Tickets.comment.getlist();\n                        prettyPrint();\n                    } else {\n                        Tickets.Message.error(response.message);\n                        if (response.data) {\n                            var errors = [];\n                            var i, field;\n                            for (i in response.data) {\n                                field = response.data[i];\n                                var elem = $(form).find('[name=\"' + field.field + '\"]').parent().find('.error');\n                                if (!elem.length) {\n                                    elem = $(form).find('#' + field.field + '-error');\n                                }\n                                if (elem.length) {\n                                    elem.text(field.message);\n                                } else if (field.field && field.message) {\n                                    errors.push(field.field + ': ' + field.message);\n                                }\n                            }\n                            if (errors.length) {\n                                Tickets.Message.error(errors.join('<br/>'));\n                            }\n                        }\n                    }\n                    if (response.data.captcha) {\n                        $('input[name=\"captcha\"]', form).val('').focus();\n                        $('#comment-captcha', form).text(response.data.captcha);\n                    }\n                }\n            });\n            return false;\n        },\n\n        getlist: function () {\n            var form = $('#comment-form');\n            var thread = $('[name=\"thread\"]', form);\n            if (!thread) {\n                return false;\n            }\n            Tickets.tpanel.start();\n            $.post(TicketsConfig.actionUrl, { action: 'comment/getlist', thread: thread.val() }, function (response) {\n                for (var k in response.data.comments) {\n                    if (response.data.comments.hasOwnProperty(k)) {\n                        Tickets.comment.insert(response.data.comments[k], true);\n                    }\n                }\n                var count = $('.ticket-comment').length;\n                $('#comment-total, .ticket-comments-count').text(count);\n\n                Tickets.tpanel.stop();\n            }, 'json');\n            return true;\n        },\n\n        insert: function (data, remove) {\n            var comment = $(data);\n            var parent = $(comment).attr('data-parent');\n            var id = $(comment).attr('id');\n            var exists = $('#' + id);\n            var children = '';\n\n            if (exists.length > 0) {\n                var np = exists.data('newparent');\n                comment.attr('data-newparent', np);\n                data = comment[0].outerHTML;\n                if (remove) {\n                    children = exists.find('.comments-list').html();\n                    exists.remove();\n                } else {\n                    exists.replaceWith(data);\n                    return;\n                }\n            }\n\n            if (parent == 0 && TicketsConfig.formBefore) {\n                $('#comments').prepend(data);\n            } else if (parent == 0) {\n                $('#comments').append(data);\n            } else {\n                var pcomm = $('#comment-' + parent);\n                if (pcomm.data('parent') != pcomm.data('newparent')) {\n                    parent = pcomm.data('newparent');\n                    comment.attr('data-newparent', parent);\n                    data = comment[0].outerHTML;\n                } else if (TicketsConfig.thread_depth) {\n                    var level = pcomm.parents('.ticket-comment').length;\n                    if (level > 0 && level >= TicketsConfig.thread_depth - 1) {\n                        parent = pcomm.data('parent');\n                        comment.attr('data-newparent', parent);\n                        data = comment[0].outerHTML;\n                    }\n                }\n                $('#comment-' + parent + ' > .comments-list').append(data);\n            }\n\n            if (children.length > 0) {\n                $('#' + id).find('.comments-list').html(children);\n            }\n        },\n\n        subscribe: function (thread) {\n            if (thread.length) {\n                $.post(TicketsConfig.actionUrl, {\n                    action: \"comment/subscribe\",\n                    thread: thread.val()\n                }, function (response) {\n                    if (response.success) {\n                        Tickets.Message.success(response.message);\n                    } else {\n                        Tickets.Message.error(response.message);\n                    }\n                }, 'json');\n            }\n        }\n    },\n\n    forms: {\n        reply: function (comment_id) {\n            $('#comment-new-link').show();\n\n            clearInterval(window.timer);\n            var form = $('#comment-form');\n            $('.time', form).text('');\n            $('.ticket-comment .comment-reply a').show();\n\n            $('#comment-preview-placeholder').hide();\n            $('input[name=\"parent\"]', form).val(comment_id);\n            $('input[name=\"id\"]', form).val(0);\n\n            var reply = $('#comment-' + comment_id + ' > .comment-reply');\n            form.insertAfter(reply).show();\n            $('a', reply).hide();\n            reply.parents('.ticket-comment').removeClass('ticket-comment-new');\n\n            $('#comment-editor', form).val('').focus();\n            return false;\n        },\n\n        comment: function (focus) {\n            if (focus !== false) {\n                focus = true;\n            }\n            clearInterval(window.timer);\n\n            $('#comment-new-link').hide();\n\n            var form = $('#comment-form');\n            $('.time', form).text('');\n            $('.ticket-comment .comment-reply a:hidden').show();\n\n            $('#comment-preview-placeholder').hide();\n            $('input[name=\"parent\"]', form).val(0);\n            $('input[name=\"id\"]', form).val(0);\n            $(form).insertAfter('#comment-form-placeholder').show();\n\n            $('#comment-editor', form).val('');\n            if (focus) {\n                $('#comment-editor', form).focus();\n            }\n            return false;\n        },\n\n        edit: function (comment_id) {\n            $('#comment-new-link').show();\n\n            var thread = $('#comment-form [name=\"thread\"]').val();\n            $.post(TicketsConfig.actionUrl, {\n                action: \"comment/get\",\n                id: comment_id,\n                thread: thread\n            }, function (response) {\n                if (!response.success) {\n                    Tickets.Message.error(response.message);\n                } else {\n                    clearInterval(window.timer);\n                    $('.ticket-comment .comment-reply a:hidden').show();\n                    var form = $('#comment-form');\n                    $('#comment-preview-placeholder').hide();\n                    $('input[name=\"parent\"]', form).val(0);\n                    $('input[name=\"id\"]', form).val(comment_id);\n\n                    var reply = $('#comment-' + comment_id + ' > .comment-reply');\n                    var time_left = $('.time', form);\n\n                    time_left.text('');\n                    form.insertAfter(reply).show();\n                    $('a', reply).hide();\n\n                    $('#comment-editor', form).val(response.data.raw).focus();\n                    if (response.data.name) {\n                        $('[name=\"name\"]', form).val(response.data.name);\n                    }\n                    if (response.data.email) {\n                        $('[name=\"email\"]', form).val(response.data.email);\n                    }\n\n                    var time = response.data.time;\n                    window.timer = setInterval(function () {\n                        if (time > 0) {\n                            time -= 1;\n                            time_left.text(Tickets.utils.timer(time));\n                        } else {\n                            clearInterval(window.timer);\n                            time_left.text('');\n                            //Tickets.forms.comment();\n                        }\n                    }, 1000);\n                }\n            }, 'json');\n\n            return false;\n        }\n    },\n\n    utils: {\n        timer: function (diff) {\n            days = Math.floor(diff / (60 * 60 * 24));\n            hours = Math.floor(diff / (60 * 60));\n            mins = Math.floor(diff / 60);\n            secs = Math.floor(diff);\n\n            dd = days;\n            hh = hours - days * 24;\n            mm = mins - hours * 60;\n            ss = secs - mins * 60;\n\n            var result = [];\n\n            if (hh > 0) result.push(hh ? this.addzero(hh) : '00');\n            result.push(mm ? this.addzero(mm) : '00');\n            result.push(ss ? this.addzero(ss) : '00');\n\n            return result.join(':');\n        },\n\n        addzero: function (n) {\n            return n < 10 ? '0' + n : n;\n        },\n\n        goto: function (id) {\n            $('html, body').animate({\n                scrollTop: $('#' + id).offset().top\n            }, 1000);\n        }\n    }\n};\n\nTickets.Message = {\n    success: function (message) {\n        if (message) {\n            $.jGrowl(message, { theme: 'tickets-message-success' });\n        }\n    },\n    error: function (message) {\n        if (message) {\n            $.jGrowl(message, { theme: 'tickets-message-error' /*, sticky: true*/ });\n        }\n    },\n    info: function (message) {\n        if (message) {\n            $.jGrowl(message, { theme: 'tickets-message-info' });\n        }\n    },\n    close: function () {\n        $.jGrowl('close');\n    }\n};\n\nTickets.Vote = {\n\n    comment: {\n        options: {\n            active: 'active',\n            inactive: 'inactive',\n            voted: 'voted',\n            vote: 'vote',\n            rating: 'rating',\n            positive: 'positive',\n            negative: 'negative'\n        },\n        vote: function (link, id, value) {\n            link = $(link);\n            var parent = link.parent();\n            var options = this.options;\n            var rating = parent.find('.' + options.rating);\n            if (parent.hasClass(options.inactive)) {\n                return false;\n            }\n\n            $.post(TicketsConfig.actionUrl, { action: 'comment/vote', id: id, value: value }, function (response) {\n                if (response.success) {\n                    link.addClass(options.voted);\n                    parent.removeClass(options.active).addClass(options.inactive);\n                    parent.find('.' + options.vote);\n                    rating.text(response.data.rating).attr('title', response.data.title);\n\n                    rating.removeClass(options.positive + ' ' + options.negative);\n                    if (response.data.status == 1) {\n                        rating.addClass(options.positive);\n                    } else if (response.data.status == -1) {\n                        rating.addClass(options.negative);\n                    }\n                } else {\n                    Tickets.Message.error(response.message);\n                }\n            }, 'json');\n\n            return true;\n        }\n    },\n    ticket: {\n        options: {\n            active: 'active',\n            inactive: 'inactive',\n            voted: 'voted',\n            vote: 'vote',\n            rating: 'rating',\n            positive: 'positive',\n            negative: 'negative'\n        },\n        vote: function (link, id, value) {\n            link = $(link);\n            var parent = link.parent();\n            var options = this.options;\n            var rating = parent.find('.' + options.rating);\n            if (parent.hasClass(options.inactive)) {\n                return false;\n            }\n\n            $.post(TicketsConfig.actionUrl, { action: 'ticket/vote', id: id, value: value }, function (response) {\n                if (response.success) {\n                    link.addClass(options.voted);\n                    parent.removeClass(options.active).addClass(options.inactive);\n                    parent.find('.' + options.vote);\n                    rating.text(response.data.rating).attr('title', response.data.title).removeClass(options.vote);\n\n                    rating.removeClass(options.positive + ' ' + options.negative);\n                    if (response.data.status == 1) {\n                        rating.addClass(options.positive);\n                    } else if (response.data.status == -1) {\n                        rating.addClass(options.negative);\n                    }\n                } else {\n                    Tickets.Message.error(response.message);\n                }\n            }, 'json');\n\n            return true;\n        }\n    }\n};\n\nTickets.Star = {\n    comment: {\n        options: {\n            stared: 'stared',\n            unstared: 'unstared'\n            //,count: 'ticket-comment-star-count'\n        },\n        star: function (link, id, value) {\n            link = $(link);\n            var options = this.options;\n            var parent = link.parent();\n\n            $.post(TicketsConfig.actionUrl, { action: 'comment/star', id: id }, function (response) {\n                if (response.success) {\n                    link.toggleClass(options.stared).toggleClass(options.unstared);\n                } else {\n                    Tickets.Message.error(response.message);\n                }\n            }, 'json');\n\n            return true;\n        }\n    },\n    ticket: {\n        options: {\n            stared: 'stared',\n            unstared: 'unstared',\n            count: 'ticket-star-count'\n        },\n        star: function (link, id, value) {\n            link = $(link);\n            var options = this.options;\n            var count = link.parent().find('.' + this.options.count);\n\n            $.post(TicketsConfig.actionUrl, { action: 'ticket/star', id: id }, function (response) {\n                if (response.success) {\n                    link.toggleClass(options.stared).toggleClass(options.unstared);\n                    count.text(response.data.stars);\n                } else {\n                    Tickets.Message.error(response.message);\n                }\n            }, 'json');\n\n            return true;\n        }\n    }\n};\n\nTickets.tpanel = {\n    wrapper: $('#comments-tpanel'),\n    refresh: $('#tpanel-refresh'),\n    new_comments: $('#tpanel-new'),\n    class_new: 'ticket-comment-new',\n\n    initialize: function () {\n        if (TicketsConfig.tpanel) {\n            this.wrapper.show();\n            this.stop();\n        }\n\n        this.refresh.on('click', function () {\n            $('.' + Tickets.tpanel.class_new).removeClass(Tickets.tpanel.class_new);\n            Tickets.comment.getlist();\n        });\n\n        this.new_comments.on('click', function () {\n            var elem = $('.' + Tickets.tpanel.class_new + ':first');\n            $('html, body').animate({\n                scrollTop: elem.offset().top\n            }, 1000, 'linear', function () {\n                elem.removeClass(Tickets.tpanel.class_new);\n            });\n\n            var count = parseInt(Tickets.tpanel.new_comments.text());\n            if (count > 1) {\n                Tickets.tpanel.new_comments.text(count - 1);\n            } else {\n                Tickets.tpanel.new_comments.text('').hide();\n            }\n        });\n    },\n\n    start: function () {\n        this.refresh.addClass('loading');\n    },\n\n    stop: function () {\n        var count = $('.' + this.class_new).length;\n        if (count > 0) {\n            this.new_comments.text(count).show();\n        } else {\n            this.new_comments.hide();\n        }\n        this.refresh.removeClass('loading');\n    }\n\n};\nif (typeof TicketsConfig != 'undefined') {\n    Tickets.initialize();\n    Tickets.tpanel.initialize();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy90aWNrZXRzLmpzPzUyMDAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFRpY2tldHMgPSB7XG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvd1sncHJldHR5UHJpbnQnXSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAkLmdldFNjcmlwdChUaWNrZXRzQ29uZmlnLmpzVXJsICsgJ2xpYi9wcmV0dGlmeS9wcmV0dGlmeS5qcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcmV0dHlQcmludCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCc8bGluay8+Jywge1xuICAgICAgICAgICAgICAgIHJlbDogJ3N0eWxlc2hlZXQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0L2NzcycsXG4gICAgICAgICAgICAgICAgaHJlZjogVGlja2V0c0NvbmZpZy5qc1VybCArICdsaWIvcHJldHRpZnkvcHJldHRpZnkuY3NzJ1xuICAgICAgICAgICAgfSkuYXBwZW5kVG8oJ2hlYWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWpRdWVyeSgpLmFqYXhGb3JtKSB7XG4gICAgICAgICAgICBkb2N1bWVudC53cml0ZSgnPHNjcmlwdCBzcmM9XCInICsgVGlja2V0c0NvbmZpZy5qc1VybCArICdsaWIvanF1ZXJ5LmZvcm0ubWluLmpzXCI+PFxcL3NjcmlwdD4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWpRdWVyeSgpLmpHcm93bCkge1xuICAgICAgICAgICAgZG9jdW1lbnQud3JpdGUoJzxzY3JpcHQgc3JjPVwiJyArIFRpY2tldHNDb25maWcuanNVcmwgKyAnbGliL2pxdWVyeS5qZ3Jvd2wubWluLmpzXCI+PFxcL3NjcmlwdD4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWpRdWVyeSgpLnNpc3lwaHVzKSB7XG4gICAgICAgICAgICBkb2N1bWVudC53cml0ZSgnPHNjcmlwdCBzcmM9XCInICsgVGlja2V0c0NvbmZpZy5qc1VybCArICdsaWIvanF1ZXJ5LnNpc3lwaHVzLm1pbi5qc1wiPjxcXC9zY3JpcHQ+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3JtcyBsaXN0ZW5lcnNcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNjb21tZW50LXByZXZpZXctcGxhY2Vob2xkZXIgYScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnI2NvbW1lbnRzLXN1YnNjcmliZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFRpY2tldHMuY29tbWVudC5zdWJzY3JpYmUoJCgnW25hbWU9XCJ0aHJlYWRcIl0nLCAkKCcjY29tbWVudC1mb3JtJykpKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnI3RpY2tldHMtc3Vic2NyaWJlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgVGlja2V0cy50aWNrZXQuc3Vic2NyaWJlKCQodGhpcykuZGF0YSgnaWQnKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGRvY3VtZW50KS5vbignc3VibWl0JywgJyN0aWNrZXRGb3JtJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIFRpY2tldHMudGlja2V0LnNhdmUodGhpcywgJCh0aGlzKS5maW5kKCdbdHlwZT1cInN1Ym1pdFwiXScpWzBdKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdzdWJtaXQnLCAnI2NvbW1lbnQtZm9ybScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBUaWNrZXRzLmNvbW1lbnQuc2F2ZSh0aGlzLCAkKHRoaXMpLmZpbmQoJ1t0eXBlPVwic3VibWl0XCJdJylbMF0pO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gUHJldmlldyBhbmQgc3VibWl0XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljayB0b3VjaGVuZCcsICcjdGlja2V0Rm9ybSAucHJldmlldywgI3RpY2tldEZvcm0gLnNhdmUsICN0aWNrZXRGb3JtIC5kcmFmdCwgI3RpY2tldEZvcm0gLnB1Ymxpc2gnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3ByZXZpZXcnKSkge1xuICAgICAgICAgICAgICAgIFRpY2tldHMudGlja2V0LnByZXZpZXcodGhpcy5mb3JtLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFRpY2tldHMudGlja2V0LnNhdmUodGhpcy5mb3JtLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljayB0b3VjaGVuZCcsICcjY29tbWVudC1mb3JtIC5wcmV2aWV3LCAjY29tbWVudC1mb3JtIC5zdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3ByZXZpZXcnKSkge1xuICAgICAgICAgICAgICAgIFRpY2tldHMuY29tbWVudC5wcmV2aWV3KHRoaXMuZm9ybSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBUaWNrZXRzLmNvbW1lbnQuc2F2ZSh0aGlzLmZvcm0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gSG90a2V5c1xuICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5ZG93bicsICcjdGlja2V0Rm9ybSwgI2NvbW1lbnQtZm9ybScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkgJiYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuc3VibWl0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2lucHV0W3R5cGU9XCJidXR0b25cIl0ucHJldmlldycpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gU2hvdyBhbmQgaGlkZSBmb3Jtc1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2sgdG91Y2hlbmQnLCAnI2NvbW1lbnQtbmV3LWxpbmsgYScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBUaWNrZXRzLmZvcm1zLmNvbW1lbnQoKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljayB0b3VjaGVuZCcsICcuY29tbWVudC1yZXBseSBhJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBpZCA9ICQodGhpcykucGFyZW50cygnLnRpY2tldC1jb21tZW50JykuZGF0YSgnaWQnKTtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdyZXBseScpKSB7XG4gICAgICAgICAgICAgICAgVGlja2V0cy5mb3Jtcy5yZXBseShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdlZGl0JykpIHtcbiAgICAgICAgICAgICAgICBUaWNrZXRzLmZvcm1zLmVkaXQoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gVm90ZXMgYW5kIHJhdGluZ1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2sgdG91Y2hlbmQnLCAnLnRpY2tldC1jb21tZW50LXJhdGluZy5hY3RpdmUgPiAudm90ZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLnBhcmVudHMoJy50aWNrZXQtY29tbWVudCcpLmRhdGEoJ2lkJyk7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygncGx1cycpKSB7XG4gICAgICAgICAgICAgICAgVGlja2V0cy5Wb3RlLmNvbW1lbnQudm90ZSh0aGlzLCBpZCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdtaW51cycpKSB7XG4gICAgICAgICAgICAgICAgVGlja2V0cy5Wb3RlLmNvbW1lbnQudm90ZSh0aGlzLCBpZCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrIHRvdWNoZW5kJywgJy50aWNrZXQtcmF0aW5nLmFjdGl2ZSA+IC52b3RlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBpZCA9ICQodGhpcykucGFyZW50cygnLnRpY2tldC1tZXRhJykuZGF0YSgnaWQnKTtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdwbHVzJykpIHtcbiAgICAgICAgICAgICAgICBUaWNrZXRzLlZvdGUudGlja2V0LnZvdGUodGhpcywgaWQsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoJCh0aGlzKS5oYXNDbGFzcygnbWludXMnKSkge1xuICAgICAgICAgICAgICAgIFRpY2tldHMuVm90ZS50aWNrZXQudm90ZSh0aGlzLCBpZCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgVGlja2V0cy5Wb3RlLnRpY2tldC52b3RlKHRoaXMsIGlkLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIC0tXG4gICAgICAgIC8vIFN0YXJzXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljayB0b3VjaGVuZCcsICcudGlja2V0LWNvbW1lbnQtc3Rhci5hY3RpdmUgPiAuc3RhcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLnBhcmVudHMoJy50aWNrZXQtY29tbWVudCcpLmRhdGEoJ2lkJyk7XG4gICAgICAgICAgICBUaWNrZXRzLlN0YXIuY29tbWVudC5zdGFyKHRoaXMsIGlkLCAwKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljayB0b3VjaGVuZCcsICcudGlja2V0LXN0YXIuYWN0aXZlID4gLnN0YXInLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5wYXJlbnRzKCcudGlja2V0LW1ldGEnKS5kYXRhKCdpZCcpO1xuICAgICAgICAgICAgVGlja2V0cy5TdGFyLnRpY2tldC5zdGFyKHRoaXMsIGlkLCAwKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKFRpY2tldHNDb25maWcuZW5hYmxlX2VkaXRvciA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpY2tldC1lZGl0b3InKS5tYXJrSXRVcChUaWNrZXRzQ29uZmlnLmVkaXRvci50aWNrZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFRpY2tldHNDb25maWcuZW5hYmxlX2VkaXRvciA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgJCgnI2NvbW1lbnQtZWRpdG9yJykubWFya0l0VXAoVGlja2V0c0NvbmZpZy5lZGl0b3IuY29tbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQuakdyb3dsLmRlZmF1bHRzLmNsb3NlclRlbXBsYXRlID0gJzxkaXY+WyAnICsgVGlja2V0c0NvbmZpZy5jbG9zZV9hbGxfbWVzc2FnZSArICcgXTwvZGl2Pic7XG5cbiAgICAgICAgICAgIHZhciBjb3VudCA9ICQoJy50aWNrZXQtY29tbWVudCcpLmxlbmd0aDtcbiAgICAgICAgICAgICQoJyNjb21tZW50LXRvdGFsLCAudGlja2V0LWNvbW1lbnRzLWNvdW50JykudGV4dChjb3VudCk7XG5cbiAgICAgICAgICAgICQoXCIjdGlja2V0Rm9ybS5jcmVhdGVcIikuc2lzeXBodXMoe1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGVGaWVsZHM6ICQoJyN0aWNrZXRGb3JtIC5kaXNhYmxlLXNpc3lwaHVzJylcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBBdXRvIGhpZGUgbmV3IGNvbW1lbnQgYnV0dG9uXG4gICAgICAgICAgICBpZiAoJCgnI2NvbW1lbnQtZm9ybScpLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgICAgICAgJCgnI2NvbW1lbnQtbmV3LWxpbmsnKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExpbmsgdG8gcGFyZW50IGNvbW1lbnRcbiAgICAgICAgJCgnI2NvbW1lbnRzJykub24oJ2NsaWNrIHRvdWNoZW5kJywgJy50aWNrZXQtY29tbWVudC11cCBhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9ICQodGhpcykuZGF0YSgncGFyZW50Jyk7XG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIGlkKSB7XG4gICAgICAgICAgICAgICAgVGlja2V0cy51dGlscy5nb3RvKCdjb21tZW50LScgKyBwYXJlbnQpO1xuICAgICAgICAgICAgICAgICQoJyNjb21tZW50LScgKyBwYXJlbnQgKyAnIC50aWNrZXQtY29tbWVudC1kb3duOmx0KDEpJykuc2hvdygpLmZpbmQoJ2EnKS5hdHRyKCdkYXRhLWNoaWxkJywgaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMaW5rIHRvIGNoaWxkIGNvbW1lbnRcbiAgICAgICAgJCgnI2NvbW1lbnRzJykub24oJ2NsaWNrIHRvdWNoZW5kJywgJy50aWNrZXQtY29tbWVudC1kb3duIGEnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSAkKHRoaXMpLmRhdGEoJ2NoaWxkJyk7XG4gICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBUaWNrZXRzLnV0aWxzLmdvdG8oJ2NvbW1lbnQtJyArIGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1jaGlsZCcsICcnKS5wYXJlbnQoKS5oaWRlKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICB0aWNrZXQ6IHtcbiAgICAgICAgcHJldmlldzogZnVuY3Rpb24gKGZvcm0sIGJ1dHRvbikge1xuICAgICAgICAgICAgJChmb3JtKS5hamF4U3VibWl0KHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGFjdGlvbjogJ3RpY2tldC9wcmV2aWV3JyB9LFxuICAgICAgICAgICAgICAgIHVybDogVGlja2V0c0NvbmZpZy5hY3Rpb25VcmwsXG4gICAgICAgICAgICAgICAgZm9ybTogZm9ybSxcbiAgICAgICAgICAgICAgICBidXR0b246IGJ1dHRvbixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGJlZm9yZVN1Ym1pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKGJ1dHRvbikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcigndGlja2V0c190aWNrZXRfcHJldmlldycsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKCcjdGlja2V0LXByZXZpZXctcGxhY2Vob2xkZXInKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaHRtbChyZXNwb25zZS5kYXRhLnByZXZpZXcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXR0eVByaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwoJycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRpY2tldHMuTWVzc2FnZS5lcnJvcihyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkKGJ1dHRvbikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzYXZlOiBmdW5jdGlvbiAoZm9ybSwgYnV0dG9uKSB7XG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gJ3RpY2tldC8nO1xuICAgICAgICAgICAgc3dpdGNoICgkKGJ1dHRvbikucHJvcCgnbmFtZScpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZHJhZnQnOlxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24gKz0gJ2RyYWZ0JztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2F2ZSc6XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbiArPSAnc2F2ZSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbiArPSAncHVibGlzaCc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKGZvcm0pLmFqYXhTdWJtaXQoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHsgYWN0aW9uOiBhY3Rpb24gfSxcbiAgICAgICAgICAgICAgICB1cmw6IFRpY2tldHNDb25maWcuYWN0aW9uVXJsLFxuICAgICAgICAgICAgICAgIGZvcm06IGZvcm0sXG4gICAgICAgICAgICAgICAgYnV0dG9uOiBidXR0b24sXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBiZWZvcmVTdWJtaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJChmb3JtKS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdLCBpbnB1dFt0eXBlPVwiYnV0dG9uXCJdJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmVycm9yJywgZm9ybSkudGV4dCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIoJ3RpY2tldHNfdGlja2V0X3NhdmUnLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0aWNrZXRGb3JtLmNyZWF0ZScpLnNpc3lwaHVzKCkubWFudWFsbHlSZWxlYXNlRGF0YSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpY2tldHMuTWVzc2FnZS5zdWNjZXNzKHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSAndGlja2V0L3NhdmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChmb3JtKS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdLCBpbnB1dFt0eXBlPVwiYnV0dG9uXCJdJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YVsnY29udGVudCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0aWNrZXQtZWRpdG9yJykudmFsKHJlc3BvbnNlLmRhdGFbJ2NvbnRlbnQnXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0aWNrZXQtZmlsZXMtbGlzdCcpLmZpbmQoJy5kZWxldGVkJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gcmVzcG9uc2UuZGF0YS5yZWRpcmVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZm9ybSkuZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXSwgaW5wdXRbdHlwZT1cImJ1dHRvblwiXScpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLk1lc3NhZ2UuZXJyb3IocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpLCBmaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IHJlc3BvbnNlLmRhdGFbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZm9ybSkuZmluZCgnW25hbWU9XCInICsgZmllbGQuZmllbGQgKyAnXCJdJykucGFyZW50KCkuZmluZCgnLmVycm9yJykudGV4dChmaWVsZC5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQoZm9ybSkuZmluZCgnW25hbWU9XCInICsgZmllbGQuZmllbGQgKyAnXCJdJykucGFyZW50KCkuZmluZCgnLmVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWxlbS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSAkKGZvcm0pLmZpbmQoJyMnICsgZmllbGQuZmllbGQgKyAnLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnRleHQoZmllbGQubWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgJC5wb3N0KFRpY2tldHNDb25maWcuYWN0aW9uVXJsLCB7IGFjdGlvbjogXCJzZWN0aW9uL3N1YnNjcmliZVwiLCBzZWN0aW9uOiBzZWN0aW9uIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgVGlja2V0cy5NZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLk1lc3NhZ2UuZXJyb3IocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAnanNvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNvbW1lbnQ6IHtcbiAgICAgICAgcHJldmlldzogZnVuY3Rpb24gKGZvcm0sIGJ1dHRvbikge1xuICAgICAgICAgICAgJChmb3JtKS5hamF4U3VibWl0KHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGFjdGlvbjogJ2NvbW1lbnQvcHJldmlldycgfSxcbiAgICAgICAgICAgICAgICB1cmw6IFRpY2tldHNDb25maWcuYWN0aW9uVXJsLFxuICAgICAgICAgICAgICAgIGZvcm06IGZvcm0sXG4gICAgICAgICAgICAgICAgYnV0dG9uOiBidXR0b24sXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBiZWZvcmVTdWJtaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJChidXR0b24pLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIoJ3RpY2tldHNfY29tbWVudF9wcmV2aWV3JywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAkKGJ1dHRvbikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNjb21tZW50LXByZXZpZXctcGxhY2Vob2xkZXInKS5odG1sKHJlc3BvbnNlLmRhdGEucHJldmlldykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldHR5UHJpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRpY2tldHMuTWVzc2FnZS5lcnJvcihyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNhdmU6IGZ1bmN0aW9uIChmb3JtLCBidXR0b24pIHtcbiAgICAgICAgICAgICQoZm9ybSkuYWpheFN1Ym1pdCh7XG4gICAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpb246ICdjb21tZW50L3NhdmUnIH0sXG4gICAgICAgICAgICAgICAgdXJsOiBUaWNrZXRzQ29uZmlnLmFjdGlvblVybCxcbiAgICAgICAgICAgICAgICBmb3JtOiBmb3JtLFxuICAgICAgICAgICAgICAgIGJ1dHRvbjogYnV0dG9uLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgYmVmb3JlU3VibWl0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwod2luZG93LnRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmVycm9yJywgZm9ybSkudGV4dCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICQoYnV0dG9uKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkKGJ1dHRvbikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcigndGlja2V0c19jb21tZW50X3NhdmUnLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLmZvcm1zLmNvbW1lbnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NvbW1lbnQtcHJldmlldy1wbGFjZWhvbGRlcicpLmh0bWwoJycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNjb21tZW50LWVkaXRvcicsIGZvcm0pLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcudGlja2V0LWNvbW1lbnQgLmNvbW1lbnQtcmVwbHkgYScpLnNob3coKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXV0b1B1Ymxpc2ggPSAwXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEubGVuZ3RoICYmIHJlc3BvbnNlLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLk1lc3NhZ2UuaW5mbyhyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpY2tldHMuY29tbWVudC5pbnNlcnQocmVzcG9uc2UuZGF0YS5jb21tZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLnV0aWxzLmdvdG8oJChyZXNwb25zZS5kYXRhLmNvbW1lbnQpLmF0dHIoJ2lkJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLmNvbW1lbnQuZ2V0bGlzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldHR5UHJpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRpY2tldHMuTWVzc2FnZS5lcnJvcihyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpLCBmaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IHJlc3BvbnNlLmRhdGFbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gJChmb3JtKS5maW5kKCdbbmFtZT1cIicgKyBmaWVsZC5maWVsZCArICdcIl0nKS5wYXJlbnQoKS5maW5kKCcuZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbGVtLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9ICQoZm9ybSkuZmluZCgnIycgKyBmaWVsZC5maWVsZCArICctZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0udGV4dChmaWVsZC5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpZWxkLmZpZWxkICYmIGZpZWxkLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGZpZWxkLmZpZWxkICsgJzogJyArIGZpZWxkLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpY2tldHMuTWVzc2FnZS5lcnJvcihlcnJvcnMuam9pbignPGJyLz4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNhcHRjaGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJjYXB0Y2hhXCJdJywgZm9ybSkudmFsKCcnKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NvbW1lbnQtY2FwdGNoYScsIGZvcm0pLnRleHQocmVzcG9uc2UuZGF0YS5jYXB0Y2hhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldGxpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBmb3JtID0gJCgnI2NvbW1lbnQtZm9ybScpO1xuICAgICAgICAgICAgdmFyIHRocmVhZCA9ICQoJ1tuYW1lPVwidGhyZWFkXCJdJywgZm9ybSk7XG4gICAgICAgICAgICBpZiAoIXRocmVhZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFRpY2tldHMudHBhbmVsLnN0YXJ0KCk7XG4gICAgICAgICAgICAkLnBvc3QoVGlja2V0c0NvbmZpZy5hY3Rpb25VcmwsIHsgYWN0aW9uOiAnY29tbWVudC9nZXRsaXN0JywgdGhyZWFkOiB0aHJlYWQudmFsKCkgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayBpbiByZXNwb25zZS5kYXRhLmNvbW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvbW1lbnRzLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLmNvbW1lbnQuaW5zZXJ0KHJlc3BvbnNlLmRhdGEuY29tbWVudHNba10sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb3VudCA9ICQoJy50aWNrZXQtY29tbWVudCcpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAkKCcjY29tbWVudC10b3RhbCwgLnRpY2tldC1jb21tZW50cy1jb3VudCcpLnRleHQoY291bnQpO1xuXG4gICAgICAgICAgICAgICAgVGlja2V0cy50cGFuZWwuc3RvcCgpO1xuICAgICAgICAgICAgfSwgJ2pzb24nKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluc2VydDogZnVuY3Rpb24gKGRhdGEsIHJlbW92ZSkge1xuICAgICAgICAgICAgdmFyIGNvbW1lbnQgPSAkKGRhdGEpO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9ICQoY29tbWVudCkuYXR0cignZGF0YS1wYXJlbnQnKTtcbiAgICAgICAgICAgIHZhciBpZCA9ICQoY29tbWVudCkuYXR0cignaWQnKTtcbiAgICAgICAgICAgIHZhciBleGlzdHMgPSAkKCcjJyArIGlkKTtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoZXhpc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgbnAgPSBleGlzdHMuZGF0YSgnbmV3cGFyZW50Jyk7XG4gICAgICAgICAgICAgICAgY29tbWVudC5hdHRyKCdkYXRhLW5ld3BhcmVudCcsIG5wKTtcbiAgICAgICAgICAgICAgICBkYXRhID0gY29tbWVudFswXS5vdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IGV4aXN0cy5maW5kKCcuY29tbWVudHMtbGlzdCcpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzLnJlcGxhY2VXaXRoKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFyZW50ID09IDAgJiYgVGlja2V0c0NvbmZpZy5mb3JtQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgJCgnI2NvbW1lbnRzJykucHJlcGVuZChkYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyZW50ID09IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjY29tbWVudHMnKS5hcHBlbmQoZGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBwY29tbSA9ICQoJyNjb21tZW50LScgKyBwYXJlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChwY29tbS5kYXRhKCdwYXJlbnQnKSAhPSBwY29tbS5kYXRhKCduZXdwYXJlbnQnKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwY29tbS5kYXRhKCduZXdwYXJlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudC5hdHRyKCdkYXRhLW5ld3BhcmVudCcsIHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBjb21tZW50WzBdLm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoVGlja2V0c0NvbmZpZy50aHJlYWRfZGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxldmVsID0gcGNvbW0ucGFyZW50cygnLnRpY2tldC1jb21tZW50JykubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPiAwICYmIGxldmVsID49IChUaWNrZXRzQ29uZmlnLnRocmVhZF9kZXB0aCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwY29tbS5kYXRhKCdwYXJlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQuYXR0cignZGF0YS1uZXdwYXJlbnQnLCBwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGNvbW1lbnRbMF0ub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQoJyNjb21tZW50LScgKyBwYXJlbnQgKyAnID4gLmNvbW1lbnRzLWxpc3QnKS5hcHBlbmQoZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBpZCkuZmluZCgnLmNvbW1lbnRzLWxpc3QnKS5odG1sKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uICh0aHJlYWQpIHtcbiAgICAgICAgICAgIGlmICh0aHJlYWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgJC5wb3N0KFRpY2tldHNDb25maWcuYWN0aW9uVXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJjb21tZW50L3N1YnNjcmliZVwiLFxuICAgICAgICAgICAgICAgICAgICB0aHJlYWQ6IHRocmVhZC52YWwoKVxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgVGlja2V0cy5NZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLk1lc3NhZ2UuZXJyb3IocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAnanNvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGZvcm1zOiB7XG4gICAgICAgIHJlcGx5OiBmdW5jdGlvbiAoY29tbWVudF9pZCkge1xuICAgICAgICAgICAgJCgnI2NvbW1lbnQtbmV3LWxpbmsnKS5zaG93KCk7XG5cbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwod2luZG93LnRpbWVyKTtcbiAgICAgICAgICAgIHZhciBmb3JtID0gJCgnI2NvbW1lbnQtZm9ybScpO1xuICAgICAgICAgICAgJCgnLnRpbWUnLCBmb3JtKS50ZXh0KCcnKTtcbiAgICAgICAgICAgICQoJy50aWNrZXQtY29tbWVudCAuY29tbWVudC1yZXBseSBhJykuc2hvdygpO1xuXG4gICAgICAgICAgICAkKCcjY29tbWVudC1wcmV2aWV3LXBsYWNlaG9sZGVyJykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInBhcmVudFwiXScsIGZvcm0pLnZhbChjb21tZW50X2lkKTtcbiAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJpZFwiXScsIGZvcm0pLnZhbCgwKTtcblxuICAgICAgICAgICAgdmFyIHJlcGx5ID0gJCgnI2NvbW1lbnQtJyArIGNvbW1lbnRfaWQgKyAnID4gLmNvbW1lbnQtcmVwbHknKTtcbiAgICAgICAgICAgIGZvcm0uaW5zZXJ0QWZ0ZXIocmVwbHkpLnNob3coKTtcbiAgICAgICAgICAgICQoJ2EnLCByZXBseSkuaGlkZSgpO1xuICAgICAgICAgICAgcmVwbHkucGFyZW50cygnLnRpY2tldC1jb21tZW50JykucmVtb3ZlQ2xhc3MoJ3RpY2tldC1jb21tZW50LW5ldycpO1xuXG4gICAgICAgICAgICAkKCcjY29tbWVudC1lZGl0b3InLCBmb3JtKS52YWwoJycpLmZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tbWVudDogZnVuY3Rpb24gKGZvY3VzKSB7XG4gICAgICAgICAgICBpZiAoZm9jdXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZm9jdXMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh3aW5kb3cudGltZXIpO1xuXG4gICAgICAgICAgICAkKCcjY29tbWVudC1uZXctbGluaycpLmhpZGUoKTtcblxuICAgICAgICAgICAgdmFyIGZvcm0gPSAkKCcjY29tbWVudC1mb3JtJyk7XG4gICAgICAgICAgICAkKCcudGltZScsIGZvcm0pLnRleHQoJycpO1xuICAgICAgICAgICAgJCgnLnRpY2tldC1jb21tZW50IC5jb21tZW50LXJlcGx5IGE6aGlkZGVuJykuc2hvdygpO1xuXG4gICAgICAgICAgICAkKCcjY29tbWVudC1wcmV2aWV3LXBsYWNlaG9sZGVyJykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInBhcmVudFwiXScsIGZvcm0pLnZhbCgwKTtcbiAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJpZFwiXScsIGZvcm0pLnZhbCgwKTtcbiAgICAgICAgICAgICQoZm9ybSkuaW5zZXJ0QWZ0ZXIoJyNjb21tZW50LWZvcm0tcGxhY2Vob2xkZXInKS5zaG93KCk7XG5cbiAgICAgICAgICAgICQoJyNjb21tZW50LWVkaXRvcicsIGZvcm0pLnZhbCgnJyk7XG4gICAgICAgICAgICBpZiAoZm9jdXMpIHtcbiAgICAgICAgICAgICAgICAkKCcjY29tbWVudC1lZGl0b3InLCBmb3JtKS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVkaXQ6IGZ1bmN0aW9uIChjb21tZW50X2lkKSB7XG4gICAgICAgICAgICAkKCcjY29tbWVudC1uZXctbGluaycpLnNob3coKTtcblxuICAgICAgICAgICAgdmFyIHRocmVhZCA9ICQoJyNjb21tZW50LWZvcm0gW25hbWU9XCJ0aHJlYWRcIl0nKS52YWwoKTtcbiAgICAgICAgICAgICQucG9zdChUaWNrZXRzQ29uZmlnLmFjdGlvblVybCwge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJjb21tZW50L2dldFwiLFxuICAgICAgICAgICAgICAgIGlkOiBjb21tZW50X2lkLFxuICAgICAgICAgICAgICAgIHRocmVhZDogdGhyZWFkXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2V0cy5NZXNzYWdlLmVycm9yKHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh3aW5kb3cudGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAkKCcudGlja2V0LWNvbW1lbnQgLmNvbW1lbnQtcmVwbHkgYTpoaWRkZW4nKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtID0gJCgnI2NvbW1lbnQtZm9ybScpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjY29tbWVudC1wcmV2aWV3LXBsYWNlaG9sZGVyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwicGFyZW50XCJdJywgZm9ybSkudmFsKDApO1xuICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiaWRcIl0nLCBmb3JtKS52YWwoY29tbWVudF9pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGx5ID0gJCgnI2NvbW1lbnQtJyArIGNvbW1lbnRfaWQgKyAnID4gLmNvbW1lbnQtcmVwbHknKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVfbGVmdCA9ICQoJy50aW1lJywgZm9ybSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGltZV9sZWZ0LnRleHQoJycpO1xuICAgICAgICAgICAgICAgICAgICBmb3JtLmluc2VydEFmdGVyKHJlcGx5KS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoJ2EnLCByZXBseSkuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJyNjb21tZW50LWVkaXRvcicsIGZvcm0pLnZhbChyZXNwb25zZS5kYXRhLnJhdykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnW25hbWU9XCJuYW1lXCJdJywgZm9ybSkudmFsKHJlc3BvbnNlLmRhdGEubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZW1haWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ1tuYW1lPVwiZW1haWxcIl0nLCBmb3JtKS52YWwocmVzcG9uc2UuZGF0YS5lbWFpbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IHJlc3BvbnNlLmRhdGEudGltZTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVfbGVmdC50ZXh0KFRpY2tldHMudXRpbHMudGltZXIodGltZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh3aW5kb3cudGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVfbGVmdC50ZXh0KCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RpY2tldHMuZm9ybXMuY29tbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAnanNvbicpO1xuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXRpbHM6IHtcbiAgICAgICAgdGltZXI6IGZ1bmN0aW9uIChkaWZmKSB7XG4gICAgICAgICAgICBkYXlzID0gTWF0aC5mbG9vcihkaWZmIC8gKDYwICogNjAgKiAyNCkpO1xuICAgICAgICAgICAgaG91cnMgPSBNYXRoLmZsb29yKGRpZmYgLyAoNjAgKiA2MCkpO1xuICAgICAgICAgICAgbWlucyA9IE1hdGguZmxvb3IoZGlmZiAvICg2MCkpO1xuICAgICAgICAgICAgc2VjcyA9IE1hdGguZmxvb3IoZGlmZik7XG5cbiAgICAgICAgICAgIGRkID0gZGF5cztcbiAgICAgICAgICAgIGhoID0gaG91cnMgLSBkYXlzICogMjQ7XG4gICAgICAgICAgICBtbSA9IG1pbnMgLSBob3VycyAqIDYwO1xuICAgICAgICAgICAgc3MgPSBzZWNzIC0gbWlucyAqIDYwO1xuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgICAgIGlmIChoaCA+IDApIHJlc3VsdC5wdXNoKGhoID8gdGhpcy5hZGR6ZXJvKGhoKSA6ICcwMCcpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobW0gPyB0aGlzLmFkZHplcm8obW0pIDogJzAwJyk7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzcyA/IHRoaXMuYWRkemVybyhzcykgOiAnMDAnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCc6Jyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkemVybzogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiAobiA8IDEwKSA/ICcwJyArIG4gOiBuO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdvdG86IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJCgnIycgKyBpZCkub2Zmc2V0KCkudG9wXG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuVGlja2V0cy5NZXNzYWdlID0ge1xuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICAkLmpHcm93bChtZXNzYWdlLCB7IHRoZW1lOiAndGlja2V0cy1tZXNzYWdlLXN1Y2Nlc3MnIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICQuakdyb3dsKG1lc3NhZ2UsIHsgdGhlbWU6ICd0aWNrZXRzLW1lc3NhZ2UtZXJyb3InLyosIHN0aWNreTogdHJ1ZSovIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBpbmZvOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICAgICAgJC5qR3Jvd2wobWVzc2FnZSwgeyB0aGVtZTogJ3RpY2tldHMtbWVzc2FnZS1pbmZvJyB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJC5qR3Jvd2woJ2Nsb3NlJyk7XG4gICAgfVxufTtcblxuXG5UaWNrZXRzLlZvdGUgPSB7XG5cbiAgICBjb21tZW50OiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGFjdGl2ZTogJ2FjdGl2ZScsXG4gICAgICAgICAgICBpbmFjdGl2ZTogJ2luYWN0aXZlJyxcbiAgICAgICAgICAgIHZvdGVkOiAndm90ZWQnLFxuICAgICAgICAgICAgdm90ZTogJ3ZvdGUnLFxuICAgICAgICAgICAgcmF0aW5nOiAncmF0aW5nJyxcbiAgICAgICAgICAgIHBvc2l0aXZlOiAncG9zaXRpdmUnLFxuICAgICAgICAgICAgbmVnYXRpdmU6ICduZWdhdGl2ZSdcbiAgICAgICAgfSxcbiAgICAgICAgdm90ZTogZnVuY3Rpb24gKGxpbmssIGlkLCB2YWx1ZSkge1xuICAgICAgICAgICAgbGluayA9ICQobGluayk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gbGluay5wYXJlbnQoKTtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgdmFyIHJhdGluZyA9IHBhcmVudC5maW5kKCcuJyArIG9wdGlvbnMucmF0aW5nKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuaGFzQ2xhc3Mob3B0aW9ucy5pbmFjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQucG9zdChUaWNrZXRzQ29uZmlnLmFjdGlvblVybCwgeyBhY3Rpb246ICdjb21tZW50L3ZvdGUnLCBpZDogaWQsIHZhbHVlOiB2YWx1ZSB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rLmFkZENsYXNzKG9wdGlvbnMudm90ZWQpO1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2xhc3Mob3B0aW9ucy5hY3RpdmUpLmFkZENsYXNzKG9wdGlvbnMuaW5hY3RpdmUpO1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZmluZCgnLicgKyBvcHRpb25zLnZvdGUpO1xuICAgICAgICAgICAgICAgICAgICByYXRpbmcudGV4dChyZXNwb25zZS5kYXRhLnJhdGluZykuYXR0cigndGl0bGUnLCByZXNwb25zZS5kYXRhLnRpdGxlKTtcblxuICAgICAgICAgICAgICAgICAgICByYXRpbmcucmVtb3ZlQ2xhc3Mob3B0aW9ucy5wb3NpdGl2ZSArICcgJyArIG9wdGlvbnMubmVnYXRpdmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nLmFkZENsYXNzKG9wdGlvbnMucG9zaXRpdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXRpbmcuYWRkQ2xhc3Mob3B0aW9ucy5uZWdhdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tldHMuTWVzc2FnZS5lcnJvcihyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAnanNvbicpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdGlja2V0OiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIGFjdGl2ZTogJ2FjdGl2ZScsXG4gICAgICAgICAgICBpbmFjdGl2ZTogJ2luYWN0aXZlJyxcbiAgICAgICAgICAgIHZvdGVkOiAndm90ZWQnLFxuICAgICAgICAgICAgdm90ZTogJ3ZvdGUnLFxuICAgICAgICAgICAgcmF0aW5nOiAncmF0aW5nJyxcbiAgICAgICAgICAgIHBvc2l0aXZlOiAncG9zaXRpdmUnLFxuICAgICAgICAgICAgbmVnYXRpdmU6ICduZWdhdGl2ZSdcbiAgICAgICAgfSxcbiAgICAgICAgdm90ZTogZnVuY3Rpb24gKGxpbmssIGlkLCB2YWx1ZSkge1xuICAgICAgICAgICAgbGluayA9ICQobGluayk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gbGluay5wYXJlbnQoKTtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgdmFyIHJhdGluZyA9IHBhcmVudC5maW5kKCcuJyArIG9wdGlvbnMucmF0aW5nKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuaGFzQ2xhc3Mob3B0aW9ucy5pbmFjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQucG9zdChUaWNrZXRzQ29uZmlnLmFjdGlvblVybCwgeyBhY3Rpb246ICd0aWNrZXQvdm90ZScsIGlkOiBpZCwgdmFsdWU6IHZhbHVlIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsuYWRkQ2xhc3Mob3B0aW9ucy52b3RlZCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDbGFzcyhvcHRpb25zLmFjdGl2ZSkuYWRkQ2xhc3Mob3B0aW9ucy5pbmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5maW5kKCcuJyArIG9wdGlvbnMudm90ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhdGluZy50ZXh0KHJlc3BvbnNlLmRhdGEucmF0aW5nKS5hdHRyKCd0aXRsZScsIHJlc3BvbnNlLmRhdGEudGl0bGUpLnJlbW92ZUNsYXNzKG9wdGlvbnMudm90ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nLnJlbW92ZUNsYXNzKG9wdGlvbnMucG9zaXRpdmUgKyAnICcgKyBvcHRpb25zLm5lZ2F0aXZlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZy5hZGRDbGFzcyhvcHRpb25zLnBvc2l0aXZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nLmFkZENsYXNzKG9wdGlvbnMubmVnYXRpdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLk1lc3NhZ2UuZXJyb3IocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgJ2pzb24nKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cblRpY2tldHMuU3RhciA9IHtcbiAgICBjb21tZW50OiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHN0YXJlZDogJ3N0YXJlZCcsXG4gICAgICAgICAgICB1bnN0YXJlZDogJ3Vuc3RhcmVkJ1xuICAgICAgICAgICAgLy8sY291bnQ6ICd0aWNrZXQtY29tbWVudC1zdGFyLWNvdW50J1xuICAgICAgICB9LFxuICAgICAgICBzdGFyOiBmdW5jdGlvbiAobGluaywgaWQsIHZhbHVlKSB7XG4gICAgICAgICAgICBsaW5rID0gJChsaW5rKTtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IGxpbmsucGFyZW50KCk7XG5cbiAgICAgICAgICAgICQucG9zdChUaWNrZXRzQ29uZmlnLmFjdGlvblVybCwgeyBhY3Rpb246ICdjb21tZW50L3N0YXInLCBpZDogaWQgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluay50b2dnbGVDbGFzcyhvcHRpb25zLnN0YXJlZCkudG9nZ2xlQ2xhc3Mob3B0aW9ucy51bnN0YXJlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXRzLk1lc3NhZ2UuZXJyb3IocmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgJ2pzb24nKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRpY2tldDoge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBzdGFyZWQ6ICdzdGFyZWQnLFxuICAgICAgICAgICAgdW5zdGFyZWQ6ICd1bnN0YXJlZCcsXG4gICAgICAgICAgICBjb3VudDogJ3RpY2tldC1zdGFyLWNvdW50J1xuICAgICAgICB9LFxuICAgICAgICBzdGFyOiBmdW5jdGlvbiAobGluaywgaWQsIHZhbHVlKSB7XG4gICAgICAgICAgICBsaW5rID0gJChsaW5rKTtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gbGluay5wYXJlbnQoKS5maW5kKCcuJyArIHRoaXMub3B0aW9ucy5jb3VudCk7XG5cbiAgICAgICAgICAgICQucG9zdChUaWNrZXRzQ29uZmlnLmFjdGlvblVybCwgeyBhY3Rpb246ICd0aWNrZXQvc3RhcicsIGlkOiBpZCB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rLnRvZ2dsZUNsYXNzKG9wdGlvbnMuc3RhcmVkKS50b2dnbGVDbGFzcyhvcHRpb25zLnVuc3RhcmVkKTtcbiAgICAgICAgICAgICAgICAgICAgY291bnQudGV4dChyZXNwb25zZS5kYXRhLnN0YXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFRpY2tldHMuTWVzc2FnZS5lcnJvcihyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAnanNvbicpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuVGlja2V0cy50cGFuZWwgPSB7XG4gICAgd3JhcHBlcjogJCgnI2NvbW1lbnRzLXRwYW5lbCcpLFxuICAgIHJlZnJlc2g6ICQoJyN0cGFuZWwtcmVmcmVzaCcpLFxuICAgIG5ld19jb21tZW50czogJCgnI3RwYW5lbC1uZXcnKSxcbiAgICBjbGFzc19uZXc6ICd0aWNrZXQtY29tbWVudC1uZXcnLFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoVGlja2V0c0NvbmZpZy50cGFuZWwpIHtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlci5zaG93KCk7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVmcmVzaC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcuJyArIFRpY2tldHMudHBhbmVsLmNsYXNzX25ldykucmVtb3ZlQ2xhc3MoVGlja2V0cy50cGFuZWwuY2xhc3NfbmV3KTtcbiAgICAgICAgICAgIFRpY2tldHMuY29tbWVudC5nZXRsaXN0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubmV3X2NvbW1lbnRzLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gJCgnLicgKyBUaWNrZXRzLnRwYW5lbC5jbGFzc19uZXcgKyAnOmZpcnN0Jyk7XG4gICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBlbGVtLm9mZnNldCgpLnRvcFxuICAgICAgICAgICAgfSwgMTAwMCwgJ2xpbmVhcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKFRpY2tldHMudHBhbmVsLmNsYXNzX25ldyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGNvdW50ID0gcGFyc2VJbnQoVGlja2V0cy50cGFuZWwubmV3X2NvbW1lbnRzLnRleHQoKSk7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XG4gICAgICAgICAgICAgICAgVGlja2V0cy50cGFuZWwubmV3X2NvbW1lbnRzLnRleHQoY291bnQgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFRpY2tldHMudHBhbmVsLm5ld19jb21tZW50cy50ZXh0KCcnKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBzdGFydDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlZnJlc2guYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY291bnQgPSAkKCcuJyArIHRoaXMuY2xhc3NfbmV3KS5sZW5ndGg7XG4gICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubmV3X2NvbW1lbnRzLnRleHQoY291bnQpLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubmV3X2NvbW1lbnRzLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZnJlc2gucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcbiAgICB9XG5cbn07XG5pZiAodHlwZW9mIFRpY2tldHNDb25maWcgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBUaWNrZXRzLmluaXRpYWxpemUoKTtcbiAgICBUaWNrZXRzLnRwYW5lbC5pbml0aWFsaXplKCk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3RpY2tldHMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0QkE7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxEQTtBQW9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTNHQTtBQUNBO0FBNkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBcEJBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1REE7QUE4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbExBO0FBQ0E7QUFvTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakdBO0FBQ0E7QUFtR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBN0JBO0FBeGpCQTtBQUNBO0FBeWxCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxCQTtBQUNBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4Q0E7QUEwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeENBO0FBNUNBO0FBQ0E7QUF3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyQkE7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0QkE7QUF4QkE7QUFDQTtBQWtEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqREE7QUFtREE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///346\n");

/***/ })

/******/ });